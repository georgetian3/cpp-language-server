\section{文法分析}



\subsection{难点}

C++20 标准非常复杂，工作量很大。和词法分析部分类似，因为 C++20 是 C++ 非常新的版本，它对很多标准都做了更新和扩充，使得它的各种标准非常多，比如 \code{char} 一般只是一个字符，但在 C++20 中却可以有多个字符（类似于一个 string，但又不完全一样），导致在编写的时候面对的工作量非常大。不管是词法分析还是语法分析的大作业部分，本小组一开始都是严格按照C++标准去进行实现的。在一步一步按照 C++20 标准实现语法分析部分的时候，最长的 declarations 文法足足写了有 800 多行代码。而在我们实现了那十个部分的文法后，发现工作量大带来的问题便是在调试的过程中会遇到不计其数的问题。首先是修改起来最简单的 typo 问题，有显性的，比如打错了字，也有隐性的，比如某一层文法或者产生式中多写了一个分号。在之后，便是各种文法冲突的问题。在试图解决文法冲突，并苦苦挣扎了将近一整个周末后，我们不得已选择抛弃掉部分 C++20标准，选择按照大作业文档中的要求，保留基础文法，最终实现了语法高亮程序需要用的语法分析部分。